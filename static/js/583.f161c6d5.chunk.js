"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[583],{583:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r,a=n(982),i=n(861),o=n(885),u=n(757),c=n.n(u),l=n(791),s=["title","titleId"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(e,t){var n=e.title,a=e.titleId,i=p(e,s);return l.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,viewBox:"0 0 20 20",ref:t,"aria-labelledby":a},i),void 0===n?l.createElement("title",{id:a},"search"):n?l.createElement("title",{id:a},n):null,r||(r=l.createElement("path",{fill:"black",d:"M12.9 14.32c-1.34 1.049-3.050 1.682-4.908 1.682-4.418 0-8-3.582-8-8s3.582-8 8-8c4.418 0 8 3.582 8 8 0 1.858-0.633 3.567-1.695 4.925l0.013-0.018 5.35 5.33-1.42 1.42-5.33-5.34zM8 14c3.314 0 6-2.686 6-6s-2.686-6-6-6v0c-3.314 0-6 2.686-6 6s2.686 6 6 6v0z"})))}var d=l.forwardRef(h),v=(n.p,n(562)),m=n.n(v),y=n(184),b=function(e){var t=e.onSubmit,n=(0,l.useState)(""),r=(0,o.Z)(n,2),a=r[0],i=r[1];return(0,y.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a.trim())return m().Notify.warning("Type something in the input");t(a),i("")},children:[(0,y.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:a,onChange:function(e){i(e.currentTarget.value.toLowerCase())}}),(0,y.jsx)("button",{type:"submit",children:(0,y.jsx)(d,{})})]})},g=n(44),w=function(){var e=(0,i.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.ZP.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("53d36a46b9069260a6b19b0d73ae2aba","&language=en-US&query=").concat(t,"&page=1&include_adult=true"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),m().Notify.failure(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=n(731),j=n(689),k=function(e){var t=e.movies,n=(0,j.TH)();return(0,y.jsx)("ul",{children:t.map((function(e){return(0,y.jsx)("li",{children:(0,y.jsx)(x.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.title})},e.id)}))})},O=function(){var e,t=(0,l.useState)([]),n=(0,o.Z)(t,2),r=n[0],u=n[1],s=(0,x.lr)(),f=(0,o.Z)(s,2),p=f[0],h=f[1],d=null!==(e=p.get("query"))&&void 0!==e?e:"";(0,l.useEffect)((function(){function e(){return(e=(0,i.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(d);case 3:t=e.sent,(n=t.results).length>0?(u([].concat((0,a.Z)(r),(0,a.Z)(n))),m().Notify.success("Hoooray, we found something.")):0===n.length&&m().Notify.failure("We didn't find anything =("),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m().Notify.failure("Failed to load searched Movies.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}""!==d&&function(){e.apply(this,arguments)}()}),[d]);return(0,y.jsxs)("main",{children:[(0,y.jsx)(b,{onSubmit:function(e){d!==e&&(h(""!==e?{query:e}:{}),u([]))}}),(0,y.jsx)(k,{movies:r})]})}}}]);
//# sourceMappingURL=583.f161c6d5.chunk.js.map